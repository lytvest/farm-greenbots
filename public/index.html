<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>üåæ –°—Ç–µ–Ω–¥ –¥–ª—è —Ñ–µ—Ä–º—ã —É —à–∫–æ–ª—ã 137</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background: url('fon.jfif') no-repeat center center fixed;
            background-size: cover;
            min-height: 100vh;
            color: #333;
        }

        .overlay {
            background: rgba(255, 255, 255, 0.42);
            min-height: 100vh;
            padding-bottom: 60px;
        }

        .card {
            transition: all 0.3s;
            border: none;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .card:hover {
            transform: translateY(-6px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .navbar {
            background: rgba(33, 37, 41, 0.95) !important;
            backdrop-filter: blur(10px);
        }

        .badge-state {
            font-size: 1.05rem;
            padding: 6px 14px;
        }

        #weatherChartContainer {
            height: 320px;
        }
    </style>
</head>

<body>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ª–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ -->
    <div class="modal fade" id="fullScreenChartModal" tabindex="-1">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header bg-info text-white">
                    <h5 class="modal-title">‚õÖ –ì—Ä–∞—Ñ–∏–∫ –ø–æ–≥–æ–¥—ã ‚Äî –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-0" style="height: calc(100vh - 56px);">
                    <canvas id="fullWeatherChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <div class="overlay">
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container">
                <a class="navbar-brand fw-bold fs-3" href="#">üåæ –°—Ç–µ–Ω–¥ –¥–ª—è —Ñ–µ—Ä–º—ã —É —à–∫–æ–ª—ã 137</a>
            </div>
        </nav>

        <div class="container mt-5">
            <div class="row">

                <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="col-lg-8">
                    <div class="row g-4">

                        <!-- –¢–µ–ø–ª–∏—Ü–∞ -->
                        <div class="col-lg-6">
                            <div class="card h-100">
                                <div class="card-header bg-success text-white fs-5">üå± –¢–µ–ø–ª–∏—Ü–∞</div>
                                <div class="card-body">
                                    <p>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–æ–∑–¥—É—Ö–∞: <strong id="gh-temp">24</strong>¬∞C </p>
                                    <p>–í–ª–∞–∂–Ω–æ—Å—Ç—å –≤–æ–∑–¥—É—Ö–∞: <strong id="gh-hum">65</strong>%</p>
                                    <p>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ—á–≤—ã: <strong id="gh-soil-temp">20</strong>¬∞C </p> 
                                    <p>–í–ª–∞–∂–Ω–æ—Å—Ç—å –ø–æ—á–≤—ã: <strong id="gh-soil-hum">50</strong>%</p>
                                    <p>–û—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç—å: <strong id="gh-light-level">1000</strong> lx </p>
                                    <p>–î–∞–≤–ª–µ–Ω–∏–µ: <strong id="gh-press">1013</strong> hPa</p>

                                    <div class="mb-4">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <strong>–û–∫–Ω–æ:</strong>
                                            <span id="gh-window-status"
                                                class="badge badge-state bg-secondary">–ó–∞–∫—Ä—ã—Ç–æ</span>
                                        </div>
                                        <button onclick="toggleGH('window')" class="btn btn-outline-success w-100 mt-2"
                                            id="gh-window-btn">–û—Ç–∫—Ä—ã—Ç—å –æ–∫–Ω–æ</button>
                                    </div>

                                    <div class="mb-4">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <strong>–ü–æ–ª–∏–≤:</strong>
                                            <span id="gh-water-status"
                                                class="badge badge-state bg-secondary">–í—ã–∫–ª—é—á–µ–Ω</span>
                                        </div>
                                        <button onclick="toggleGH('watering')"
                                            class="btn btn-outline-success w-100 mt-2" id="gh-water-btn">–í–∫–ª—é—á–∏—Ç—å
                                            –ø–æ–ª–∏–≤</button>
                                    </div>

                                    <div class="mb-4">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <strong>–í–µ–Ω—Ç–∏–ª—è—Ü–∏—è:</strong>
                                            <span id="gh-ventilation-status"
                                                class="badge badge-state bg-secondary">–í—ã–∫–ª—é—á–µ–Ω–∞</span>
                                        </div>
                                        <button onclick="toggleGH('ventilation')" class="btn btn-outline-success w-100 mt-2"
                                            id="gh-ventilation-btn">–í–∫–ª—é—á–∏—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ü–∏—é</button>
                                    </div>

                                    <div>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <strong>–°–≤–µ—Ç:</strong>
                                            <span id="gh-light-status" class="badge badge-state bg-secondary">–í—ã–∫–ª—é—á–µ–Ω</span>
                                        </div>
                                        <div class="btn-group w-100 mt-2" role="group">
                                            <button class="btn btn-outline-danger" onclick="setLightColor('red')">üî¥ –ö—Ä–∞—Å–Ω—ã–π</button>
                                            <button class="btn btn-outline-primary" onclick="setLightColor('blue')">üîµ –°–∏–Ω–∏–π</button>
                                            <button class="btn btn-outline-success" onclick="setLightColor('green')">üü¢ –ó–µ–ª—ë–Ω—ã–π</button>
                                            <button class="btn btn-outline-secondary" onclick="setLightColor('off')">‚ö´ –í—ã–∫–ª</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –ú–µ—Ç–µ–æ—Å—Ç–∞–Ω—Ü–∏—è -->
                        <div class="col-lg-6">
                            <div class="col-lg-12 mt-4">
                                <div class="card h-100">
                                    <div class="card-header bg-info text-white fs-5">‚õÖ –ú–µ—Ç–µ–æ—Å—Ç–∞–Ω—Ü–∏—è</div>
                                    <div class="card-body">
                                        <p>–¢–µ–º–ø: <strong id="w-temp">16</strong>¬∞C | –í–µ—Ç–µ—Ä: <strong
                                                id="w-wind">8</strong> –º/—Å | –î–æ–∂–¥—å: <span id="w-rain"
                                                class="badge bg-danger">–ù–µ—Ç</span></p>

                                        <div id="weatherChartContainer">
                                            <canvas id="weatherChart"></canvas>
                                        </div>
                                    </div>
                                    <!-- –ö–Ω–æ–ø–∫–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å -->
                                    <div class="text-end mt-2 mb-3 me-3">
                                        <button onclick="toggleFullScreenChart()" class="btn btn-outline-info btn-sm">
                                            ‚õ∂ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
                                        </button>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- –ó–∞–≥–æ–Ω—ã -->
                        <div class="col-12">
                            <h5 class="mb-3 fw-bold">üêÑ –ó–∞–≥–æ–Ω—ã –¥–ª—è –∫–æ—Ä–æ–≤</h5>
                            <div class="row g-3" id="pens"></div>
                        </div>

                        <!-- –ö–æ–Ω–≤–µ–π–µ—Ä -->
                        <div class="col-lg-6">
                            <div class="card">
                                <div class="card-header bg-primary text-white fs-5">üè≠ –ö–æ–Ω–≤–µ–π–µ—Ä —Å RFID</div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <strong>–°–æ—Å—Ç–æ—è–Ω–∏–µ:</strong>
                                        <span id="conv-status" class="badge badge-state bg-secondary">–í—ã–∫–ª—é—á–µ–Ω</span>
                                    </div>

                                    <p>–û–≤–æ—â–µ–π –ø—Ä–æ—à–ª–æ: <strong id="conv-count">142</strong></p>
                                    <p>–û—à–∏–±–æ–∫ RFID: <strong id="conv-wrong" class="text-danger">0</strong></p>

                                    <button onclick="toggleConveyor()" class="btn btn-success w-100"
                                        id="conv-btn">–í–∫–ª—é—á–∏—Ç—å –∫–æ–Ω–≤–µ–π–µ—Ä</button>
                                </div>
                            </div>
                        </div>

                        <!-- –¢—Ä–∞–∫—Ç–æ—Ä -->
                        <div class="col-lg-6">
                            <div class="card">
                                <div class="card-header bg-warning text-dark fs-5">üöú –¢—Ä–∞–∫—Ç–æ—Ä</div>
                                <div class="card-body">
                                    <p>–°–µ–π—á–∞—Å: <strong id="tractor-pos">–°–∫–ª–∞–¥</strong></p>
                                    <div class="btn-group w-100">
                                        <button onclick="sendTractor('warehouse')"
                                            class="btn btn-outline-secondary">–°–∫–ª–∞–¥</button>
                                        <button onclick="sendTractor('greenhouse')"
                                            class="btn btn-outline-secondary">–¢–µ–ø–ª–∏—Ü–∞</button>
                                        <button onclick="sendTractor('pens')"
                                            class="btn btn-outline-secondary">–ó–∞–≥–æ–Ω—ã</button>
                                        <button onclick="sendTractor('conveyor')"
                                            class="btn btn-outline-secondary">–ö–æ–Ω–≤–µ–π–µ—Ä</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –°—Ü–µ–Ω–∞—Ä–∏–∏ -->
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header fs-5">‚öôÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏</div>
                                <div class="card-body">
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="sc-storm" checked
                                            onchange="toggleScenario('storm')">
                                        <label class="form-check-label">–°–∏–ª—å–Ω—ã–π –≤–µ—Ç–µ—Ä + –¥–æ–∂–¥—å ‚Üí –æ—Ç–∫—Ä—ã—Ç—å –¥–≤–µ—Ä–∏
                                            –∑–∞–≥–æ–Ω–æ–≤</label>
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="sc-wrong" checked
                                            onchange="toggleScenario('wrongVeg')">
                                        <label class="form-check-label">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è RFID ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∞–∫—Ç–æ—Ä –∫
                                            –∫–æ–Ω–≤–µ–π–µ—Ä—É</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- –°–∞–π–¥–±–∞—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
                <div class="col-lg-4">
                    <div class="sticky-top" style="top: 90px;">
                        <div class="card shadow">
                            <div class="card-header bg-dark text-white d-flex justify-content-between">
                                <span>üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                                <span class="badge bg-secondary" id="notif-count">0</span>
                            </div>
                            <div id="notifications" class="list-group list-group-flush"></div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>

</html>